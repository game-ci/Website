---
toc_max_heading_level: 5
---

# Build

The Unity orb provides the
[build job](https://circleci.com/developer/orbs/orb/game-ci/unity#jobs-build) to facilitate the
process of building your Unity project to multiple platforms.

### Parameters

In this sub-section, you will find information on each parameter the job provides.

#### build-name

- _Default_: `UnityBuild`
- _Required_: `False`
- _Type_: `String`

Your build's name. If you choose to compress your artifacts, this name will be used in the
compressed file.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          build-name: 'MyUnityProject'
```

#### build-target

- _Default_: `N/A`
- _Required_: `True`
- _Type_: `String`

The platform on which you want to run your game. Valid parameters can be found in the Unity Editor
[documentation](https://docs.unity3d.com/2022.2/Documentation/ScriptReference/BuildTarget.html).

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          build-target: 'StandaloneLinux64'
```

#### compress

- _Default_: `true`
- _Required_: `False`
- _Type_: `Boolean`

Whether to compress the build output to a `.tar.gz` file. Set it to `true` if you want to download
the build artifacts from the CircleCI dashboard, otherwise, you will have to download each file
individually. If set to `false` for
[decompressed WebGL](https://docs.unity3d.com/Manual/webgl-deploying.html) builds, the built project
can be run directly from the GameCI dashboard.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          compress: true
```

#### executor

- _Default_: `N/A`
- _Required_: `True`
- _Type_: `Executor`

The executor on which you want to run your build job on. Bear in mind that projects using `IL2CPP`
as the [scripting backend](https://docs.unity3d.com/Manual/scripting-backends.html) should run on
the same OS as the [build target](#build-target). For example, if you want to build for macOS using
`IL2CPP`, you must use the
[macos](https://circleci.com/developer/orbs/orb/game-ci/unity#executors-macos) or
[macos-runner](https://circleci.com/developer/orbs/orb/game-ci/unity#executors-macos-runner)
executors.

Notice that the Windows and macOS executors have a longer environment setup time than
[ubuntu](https://circleci.com/developer/orbs/orb/game-ci/unity#executors-ubuntu). This is due to the
installation of the Windows SDK in `Windows` and the installation of the Unity Hub and Unity Editor
in `macOS`. Should you require faster build times in these executors, consider using their
non-ephemeral runner counterparts.

Each executor has its set of parameters. See the [Executors](/docs/circleci/executors) section for
more details.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          executor:
            name: 'unity/ubuntu'
            target_platform: 'linux-il2cpp'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
```

#### project-path

- _Default_: `.`
- _Required_: `False`
- _Type_: `String`

If your project sits at the root of your repository, leave it to the default value. Otherwise, enter
the path of your Unity project. This should be the directory that has an "Assets" folder inside it.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
```

#### step-name

- _Default_: `Build the project`
- _Required_: `False`
- _Type_: `String`

Specify a custom step name to be shown in the CircleCI dashboard.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          step-name: 'Build my Unity project'
```

#### unity-license-var-name

- _Default_: `UNITY_ENCODED_LICENSE`
- _Required_: `False`
- _Type_: `env_var_name`

The name of the environment variable holding the license set in your
[Context](/docs/circleci/activation#preparing-the-context). If you are building your project using
the Unity Pro or Plus license, this is **not** required. See [Activation](/docs/circleci/activation)
for more details.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
```

#### unity-password-var-name

- _Default_: `UNITY_PASSWORD`
- _Required_: `False`
- _Type_: `env_var_name`

The name of the environment variable holding the password set in your
[Context](/docs/circleci/activation#preparing-the-context). See
[Activation](/docs/circleci/activation) for more details.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          unity-password-var-name: 'UNITY_PASSWORD'
```

#### unity-serial-var-name

- _Default_: `UNITY_SERIAL`
- _Required_: `False`
- _Type_: `env_var_name`

The name of the environment variable holding the serial set in your
[Context](/docs/circleci/activation#preparing-the-context). If you are building your project using
the Unity Personal license, this is **not** required. See [Activation](/docs/circleci/activation)
for more details.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          unity-serial-var-name: 'UNITY_SERIAL'
```

#### unity-username-var-name

- _Default_: `UNITY_USERNAME`
- _Required_: `False`
- _Type_: `env_var_name`

The name of the environment variable holding the username set in your
[Context](/docs/circleci/activation#preparing-the-context). See
[Activation](/docs/circleci/activation) for more details.

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      - unity/build:
          unity-username-var-name: 'UNITY_USERNAME'
```

### Examples

In this sub-section, you will find examples of workflows using this job. However, notice that the
separation used in the examples is for visualization's sake only. You can build for all target
platforms in the same workflow.

#### Personal License

Below you will see how the build job can be used to build your project for several platforms using
Unity's personal license. If you are unsure what this means, navigate to the
[Activation](/docs/circleci/activation) section. All examples are based on CircleCI's
[Demo Project](https://github.com/CircleCI-Public/Unity2D-Demo-Game-CI-CD).

##### IL2CPP

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # Linux IL2CPP
      - unity/build:
          name: 'build-linux64-il2cpp'
          step-name: 'Build StandaloneLinux64'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'linux-il2cpp'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneLinux64
          compress: true
          context: unity

      # Windows IL2CPP
      - unity/build:
          name: 'build-Windows64-il2cpp'
          step-name: 'Build StandaloneWindows64 il2cpp'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'windows-il2cpp'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneWindows64
          compress: true
          context: unity

      # macOS IL2CPP
      - unity/build:
          name: 'build-Windows64-il2cpp'
          step-name: 'Build StandaloneWindows64 il2cpp'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'windows-il2cpp'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneWindows64
          compress: true
          context: unity
```

##### Mono

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # Linux Mono
      - unity/build:
          name: 'build-linux64-mono'
          step-name: 'Build StandaloneLinux64'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'base'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneLinux64
          compress: true
          context: unity

      # Windows Mono
      - unity/build:
          name: 'build-Windows64-mono'
          step-name: 'Build StandaloneWindows64'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'windows-mono'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'StandaloneWindows64'
          context: unity

      # macOS Mono
      - unity/build:
          name: 'build-osx-mono'
          step-name: 'Build StandaloneOSX'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'mac-mono'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'StandaloneOSX'
          context: unity
```

##### Other Platforms

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # WebGL
      - unity/build:
          name: 'build-webgl'
          step-name: 'Build WebGL'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'webgl'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'WebGL'
          compress: false
          context: unity

      # Android
      - unity/build:
          name: 'build-android'
          step-name: 'Build Android'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'android'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'Android'
          context: unity

      # iOS
      - unity/build:
          name: 'build-ios'
          step-name: 'Build iOS'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'ios'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'iOS'
          context: unity

      # tvOS
      - unity/build:
          name: 'build-tvOS'
          step-name: "Build Apple's tvOS"
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'appletv'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: tvOS
          compress: true
          context: unity
```

#### Professional License

Below you will see how the build job can be used to build your project for several platforms using
Unity's professional license. If you are unsure what this means, navigate to the
[Activation](/docs/circleci/activation) section. All examples are based on CircleCI's
[Demo Project](https://github.com/CircleCI-Public/Unity2D-Demo-Game-CI-CD).

##### IL2CPP

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # Linux IL2CPP
      - unity/build:
          name: 'build-linux64-il2cpp'
          step-name: 'Build StandaloneLinux64'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'linux-il2cpp'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneLinux64
          compress: true
          context: unity

      # Windows IL2CPP
      - unity/build:
          name: 'build-Windows64-il2cpp'
          step-name: 'Build StandaloneWindows64 il2cpp'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'windows-il2cpp'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneWindows64
          compress: true
          context: unity

      # macOS IL2CPP
      - unity/build:
          name: 'build-Windows64-il2cpp'
          step-name: 'Build StandaloneWindows64 il2cpp'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'windows-il2cpp'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneWindows64
          compress: true
          context: unity
```

##### Mono

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # Linux Mono
      - unity/build:
          name: 'build-linux64-mono'
          step-name: 'Build StandaloneLinux64'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'base'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneLinux64
          compress: true
          context: unity

      # Windows Mono
      - unity/build:
          name: 'build-Windows64-mono'
          step-name: 'Build StandaloneWindows64'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'windows-mono'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'StandaloneWindows64'
          context: unity

      # macOS Mono
      - unity/build:
          name: 'build-osx-mono'
          step-name: 'Build StandaloneOSX'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'mac-mono'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'StandaloneOSX'
          context: unity
```

##### Other Platforms

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # WebGL
      - unity/build:
          name: 'build-webgl'
          step-name: 'Build WebGL'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'webgl'
            editor_version: '2021.3.1f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'WebGL'
          compress: false
          context: unity

      # Android
      - unity/build:
          name: 'build-android'
          step-name: 'Build Android'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'android'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'Android'
          context: unity

      # iOS
      - unity/build:
          name: 'build-ios'
          step-name: 'Build iOS'
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'ios'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'iOS'
          context: unity

      # tvOS
      - unity/build:
          name: 'build-tvOS'
          step-name: "Build Apple's tvOS"
          unity-serial-var-name: 'UNITY_SERIAL'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'appletv'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: tvOS
          compress: true
          context: unity
```

:

```yaml
version: 2.1

orbs:
  unity: game-ci/unity@x.y

workflows:
  build-unity-project:
    jobs:
      # Windows IL2CPP
      - unity/build:
          name: 'build-Windows64-il2cpp'
          step-name: 'Build StandaloneWindows64 il2cpp'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/windows-2019'
            size: 'large'
            editor_version: '2021.3.2f1'
            target_platform: 'windows-il2cpp'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: StandaloneWindows64
          compress: true
          context: unity

      # macOS Mono
      - unity/build:
          name: 'build-osx-mono'
          step-name: 'Build StandaloneOSX'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'mac-mono'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'StandaloneOSX'
          context: unity

      # Android
      - unity/build:
          name: 'build-android'
          step-name: 'Build Android'
          unity-license-var-name: 'UNITY_ENCODED_LICENSE'
          unity-username-var-name: 'UNITY_USERNAME'
          unity-password-var-name: 'UNITY_PASSWORD'
          executor:
            name: 'unity/ubuntu'
            target_platform: 'android'
            editor_version: '2021.3.2f1'
            resource_class: 'large'
          project-path: 'Unity2D-Demo-Game-CI-CD/src'
          build-target: 'Android'
          context: unity
```
