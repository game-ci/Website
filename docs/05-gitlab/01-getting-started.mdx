import Video from '../../src/components/video/video';

# Getting started

This guide will demonstrate how to setup build and test automation for your Unity project hosted on
gitlab using gitlab-ci.

## Overall steps

1. Understand how [gitlab-ci](https://docs.gitlab.com/ce/ci/) works.
2. Add build scripts and gitlab-ci integration in your Unity project
3. Configure a license for Unity.
4. Successfully build and test your Unity project üéâ

## First time using Gitlab CI?

Read the official documentation about
[Getting started with GitLab CI/CD](https://docs.gitlab.com/ce/ci/quick_start/).

Any subsequent steps assume you have read the above.

## Supported versions

The [unity3d-gitlab-ci-example project](https://gitlab.com/game-ci/unity3d-gitlab-ci-example/) uses
[unity3d docker images](https://github.com/game-ci/docker/) published by
[game-ci](https://github.com/game-ci).

:::tip

Before proceeding, verify that your Unity version is supported by checking the
[Docker > Versions page](/docs/docker/versions).

:::

It is generally considered good practice to use the same Unity version for your CI/CD setup as you
do to develop your project. Our Gitlab CI configuration will automatically detect and use the
correct Unity version for your project.

## Video tutorial

<Video url="https://www.youtube-nocookie.com/embed/k0NcedDzEqA" />

:::caution

The video (recorded with Unity 2020.x) is slightly outdated, but the general concepts are still the
same. üëç

- The activation process has changed a bit since then.
- Docker images have been updated
- The `.gitlab-ci.yml` file uses different variables now.

:::

### Steps to Set Up Unity CI/CD with GitLab

#### 1. Clone the Example Repository

Start by cloning the GameCI example project provided by GameCI to use its configuration files.

```bash
git clone https://gitlab.com/game-ci/unity3d-gitlab-ci-example.git
```

#### 2. (Optional) Checkout a Specific Version

If you want to use a specific version of the example project, checkout the desired tag.

```bash
cd unity3d-gitlab-ci-example
git checkout v4.0.0
cd ..
```

:::info

See [example project's release](https://gitlab.com/game-ci/unity3d-gitlab-ci-example/-/releases) for
stable versions.

:::

#### 3. Navigate to Your Unity Project

Replace `your-unity-project` with the actual name of your Unity project folder.

```bash
cd your-unity-project
```

#### 4. Create Necessary Directories

Create the required directories in your Unity project to hold CI-related files.

```bash
mkdir -p Assets/Scripts/Editor/
```

#### 5. Copy Required Files

Copy the necessary CI configuration and scripts from the example project to your Unity project.

```bash
cp ../unity3d-gitlab-ci-example/.gitlab-ci.yml ./
cp -r ../unity3d-gitlab-ci-example/ci ./
cp ../unity3d-gitlab-ci-example/Assets/Scripts/Editor/BuildCommand.cs ./Assets/Scripts/Editor/
```

#### Final Note:

If your Unity project is not at the root of your repository, update the paths accordingly in the
commands above and in the `.gitlab-ci.yml` file. Adjust the `UNITY_DIR` variable in `.gitlab-ci.yml`
to point to your project directory.

## Proceed to activation

That‚Äôs It! You're one step away from having automated builds and tests for your Unity project.
Proceed to the [Activation](./02-activation.mdx) guide.
